base_url: "https://malegislature.gov"
collect_input: true  # Whether to let the user select committees
include_chambers: ["House", "Joint"]
runner:
  committee_ids: ["J10"]  # list of committee IDs, or ["all"] for all committees
  limit_hearings: 999       # keep small for fast tests; increase later
  check_extensions: false  # whether to check for bill extensions (time-consuming)
review_mode: "deferred"  # "on" = immediate review, "off" = auto-accept, "deferred" = batch review at end
popup_review: false  # true = Tkinter popups, false = console review (headless/SSH friendly)
threading:
  max_workers: 16  # Number of concurrent threads for bill processing (1 = no threading/sequential)
# Deferred review settings (only used when review_mode: "deferred")
deferred_review:
  reprocess_after_review: true     # Re-run processing after confirmation
  show_confidence: true            # Display parser confidence scores
  group_by_bill: false            # Group confirmations by bill vs chronological
  auto_accept_high_confidence: 0.9 # Auto-accept if confidence > threshold (0.0-1.0)
llm:
  enabled: false
  host: "192.168.0.170"
  port: 11434
  model: "qwen3:4b"
  prompt: |
    You are verifying whether this document is evidence of a legislative BILL SUMMARY or VOTE RECORD for bill {bill_id}.

    Input metadata:
    - bill_id: {bill_id}
    - doc_type (predicted): {doc_type}
    - content: """{content}"""
    
    Respond with exactly one word: **yes**, **no**, or **unsure**.
    
    Rules:
    
    1. **Bill ID relevance**
       - If the correct bill ID (e.g., H174, H.174, S 91) appears in the *title line, heading, or the first occurrence of a “Bill Summary” section*, that is a **strong positive**.
       - If multiple bill IDs appear, decide whether the focus or summary *centers on* {bill_id}:
           • YES if {bill_id} is the one directly attached to “Bill Summary,” “Summary of,” or similar heading.
           • YES if the paragraph structure clearly treats {bill_id} as the subject and others as comparisons or references.
           • UNSURE if {bill_id} only appears in a side note or list with no focused summary text.
           • NO if a *different* bill ID is used in headings or summary sections instead.
       - Wrong or conflicting bill IDs are strong negatives.
    
    2. **If `doc_type` = "summary":**
       - YES if it includes:
           • “Summary” or “Bill Summary” near {bill_id}, OR
           • A malegislature.gov link with filename containing {bill_id} + “Summary”, OR
           • Policy or explanatory prose describing what the bill *does* (not navigation or metadata).
       - NO if it’s only navigation, boilerplate, or meeting text.
    
    3. **If `doc_type` = "vote":**
       - YES if it includes vote-related words or patterns:
           “vote”, “yea”, “nay”, “favorable”, “ought to pass”, “ought not to pass”, “recommendation”, “committee report”, “referred to”.
       - NO if it lacks any of those or if votes are for unrelated bills.
    
    4. **Ignore irrelevant material**
       - Ignore unrelated bill references unless they dominate the document.
       - Ignore navigation, login, or template text.
    
    5. **Decision logic**
       - YES only if strong indicators for {bill_id} and document type align.
       - NO if strong conflicting evidence or unrelated focus.
       - Otherwise, UNSURE.
    
    Output exactly one token: `yes`, `no`, or `unsure`. Do not add explanations or punctuation.

  timeout: 120
  audit_log:
    enabled: true
    file: "out/llm_audit.log"
    include_timestamps: true
    include_model_info: true
# Document caching configuration
document_cache:
  enabled: true                        # Enable document caching
  directory: "cache/documents"        # Directory for cached documents
  extracted_text_directory: "cache/extracted"  # Directory for extracted text
  max_size_mb: 5120                   # Maximum cache size in MB (5GB)
  max_age_days: 180                   # Maximum age of cached documents in days
  validate_after_days: 7              # Validate cached documents after N days

  store_extracted_text: true          # Store extracted text from PDFs/DOCX
