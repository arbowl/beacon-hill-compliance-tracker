base_url: "https://malegislature.gov"
collect_input: true  # Whether to let the user select committees
include_chambers: ["House", "Joint"]
runner:
  committee_ids: ["J10"]  # list of committee IDs, or ["all"] for all committees
  limit_hearings: 999       # keep small for fast tests; increase later
  check_extensions: false  # whether to check for bill extensions (time-consuming)
review_mode: "deferred"  # "on" = immediate review, "off" = auto-accept, "deferred" = batch review at end
popup_review: false  # true = Tkinter popups, false = console review (headless/SSH friendly)
threading:
  max_workers: 24  # Number of concurrent threads for bill processing (1 = no threading/sequential)
# Deferred review settings (only used when review_mode: "deferred")
deferred_review:
  reprocess_after_review: true     # Re-run processing after confirmation
  show_confidence: true            # Display parser confidence scores
  group_by_bill: false            # Group confirmations by bill vs chronological
  auto_accept_high_confidence: 0.9 # Auto-accept if confidence > threshold (0.0-1.0)
llm:
  enabled: true
  host: "192.168.0.170"
  port: 11434
  model: "qwen3:4b"
  prompt: |
    You are verifying whether this document is evidence of a legislative BILL SUMMARY or a VOTE RECORD for bill {bill_id}.

    Input metadata:
    - bill_id: {bill_id}
    - doc_type (predicted): {doc_type}
    - content: """{content}"""

    Respond with exactly one word: **yes**, **no**, or **unsure**.

    Rules:
    1. **Bill ID check**
      - Strong positive if the correct bill ID appears (case-insensitive, format H|S followed by number, with or without punctuation/spaces, e.g. H174, H.174, S 91).
      - Strong negative if a *different* bill ID appears.
      - If no bill ID is present, treat this as neutral.

    2. **If `doc_type` = "summary":**
      - YES if the document:
        - Contains the word "Summary" or "Bill Summary" (case-insensitive), OR
        - Has a malegislature.gov URL whose filename includes the bill ID and the word “Summary”, OR
        - Contains paragraph-style policy or topic text clearly describing a bill’s intent, scope, or subject.
      - NO if it is mainly navigation, headers, login pages, meeting notices, or hearing agendas.

    3. **If `doc_type` = "vote":**
      - YES if it contains vote-related terms such as:
        - "vote", "yea", "nay", "favorable", "ought to pass", "ought not to pass", "recommendation", "committee report".
      - NO if it only lists hearing dates or bill descriptions without any votes or recommendations.

    4. **Ignore boilerplate**
      - Ignore navigation links, footers, and legislative site chrome.

    5. **Confidence logic**
      - YES only if clear indicators match and no contradictions.
      - NO only if clear evidence against it.
      - Otherwise, UNSURE.

    Output exactly one token: `yes`, `no`, or `unsure`. Do not explain.
  timeout: 120
  audit_log:
    enabled: true
    file: "out/llm_audit.log"
    include_timestamps: true
    include_model_info: true
# Document caching configuration
document_cache:
  enabled: true                        # Enable document caching
  directory: "cache/documents"        # Directory for cached documents
  extracted_text_directory: "cache/extracted"  # Directory for extracted text
  max_size_mb: 5120                   # Maximum cache size in MB (5GB)
  max_age_days: 180                   # Maximum age of cached documents in days
  validate_after_days: 7              # Validate cached documents after N days
  store_extracted_text: true          # Store extracted text from PDFs/DOCX