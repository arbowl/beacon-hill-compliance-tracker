base_url: "https://malegislature.gov"
collect_input: true  # Whether to let the user select committees
include_chambers: ["House", "Joint"]
runner:
  committee_ids: ["J10"]  # list of committee IDs, or ["all"] for all committees
  limit_hearings: 999       # keep small for fast tests; increase later
  check_extensions: false  # whether to check for bill extensions (time-consuming)
review_mode: "deferred"  # "on" = immediate review, "off" = auto-accept, "deferred" = batch review at end
popup_review: false  # true = Tkinter popups, false = console review (headless/SSH friendly)
threading:
  max_workers: 24  # Number of concurrent threads for bill processing (1 = no threading/sequential)
# Deferred review settings (only used when review_mode: "deferred")
deferred_review:
  reprocess_after_review: true     # Re-run processing after confirmation
  show_confidence: true            # Display parser confidence scores
  group_by_bill: false            # Group confirmations by bill vs chronological
  auto_accept_high_confidence: 0.9 # Auto-accept if confidence > threshold (0.0-1.0)
llm:
  enabled: true
  host: "192.168.0.170"
  port: 11434
  model: "mistral:7b-instruct"
  prompt: |
    bill_id: {bill_id}
    doc_type: {doc_type}
    content: """{content}"""

    Answer one word (yes/no/unsure) using these rules:
    - Bill id massively increases confidence if present (H or S + number, with/without dot/space)
    - Wrong bill id is a strong negative indicator
    - summary → must have:
        • "Summary" near it (case insensitive), OR
        • a malegislature.gov link whose filename/title has bill id + "Summary", OR
        • policy/topic-style prose (not navigation, login, or site boilerplate).
    - vote record → look for ("vote"|"yea"|"nay"|"favorable"|"recommendation"|"committee")
    - Ignore boilerplate.
    Output exactly: yes|no|unsure.
  diff_report_analysis_prompt: |
    You are a legislative data analyst generating a daily operational brief for the Massachusetts Beacon Hill Compliance Tracker.

    **Massachusetts Legislative Committee Compliance Analysis**
    **Committee:** {committee_name}
    **Period:** {previous_date} to {current_date} ({time_interval} ago)

    **Reported Metrics**
    - Compliance delta: {compliance_delta} percentage points
    - New bills: {new_bills_count}
    - Bills with new hearings: {bills_with_new_hearings_count}
    - Bills reported out of committee: {bills_reported_out_count}
    - Bills with new summaries: {bills_with_new_summaries_count}

    **New Bills**
    {new_bills_details}

    **Bills with New Hearings**
    {bills_with_new_hearings_details}

    **Bills Reported Out**
    {bills_reported_out_details}

    **Bills with New Summaries**
    {bills_with_new_summaries_details}

    **Legislative Transparency Context**
    In 2025, the Massachusetts Legislature strengthened its joint rules to improve public visibility: hearings must be publicly noticed at least ten days in advance, committee votes and attendance must be posted, and plain-language summaries must be available before or soon after hearings.  
    Your analysis should interpret changes in light of these obligations.
    
    **IMPORTANT: Committee Scope**
    This analysis focuses specifically on the {committee_name} committee. The dataset you are commenting on belongs to this committee alone, not the whole Massachusetts Legislature. The tracker monitors approximately 35 committees, but this report reflects changes only for {committee_name}. Daily changes typically reflect a small number of committee postings for this specific committee, not system-wide policy shifts.
    You aren't seeing all the bills analyzed in this dataset--you're just seeing day-to-day differences, so don't make too many assumptions about the relationship between what's new and what's required. New items generally need time to have documentation posted.

    **Your Task**
    Write a concise 3–4 sentence brief that:

    1. States whether compliance rose, fell, or remained stable — quantify the change.  
    2. Identifies which activities (hearings, reports, summaries) most affected the shift.  
    3. Notes any behavior that aligns with or deviates from transparency requirements (e.g., delayed postings, clustering before deadlines). 

    Tone: neutral, factual, and concise.  
    Avoid adjectives such as "promising," "concerning," or "disappointing."  
    Use analytic verbs — "rose," "declined," "remained," "corresponded," "reflected."  
    Each sentence should deliver a verifiable observation, not interpretation.
  timeout: 120
  audit_log:
    enabled: true
    file: "out/llm_audit.log"
    include_timestamps: true
    include_model_info: true
# Document caching configuration
document_cache:
  enabled: true                        # Enable document caching
  directory: "cache/documents"        # Directory for cached documents
  extracted_text_directory: "cache/extracted"  # Directory for extracted text
  max_size_mb: 5120                   # Maximum cache size in MB (5GB)
  max_age_days: 180                   # Maximum age of cached documents in days
  validate_after_days: 7              # Validate cached documents after N days
  store_extracted_text: true          # Store extracted text from PDFs/DOCX